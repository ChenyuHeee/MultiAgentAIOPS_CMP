# CausalRCA 适配层跑分结果（AIOps Challenge）

> 说明：以下分数均来自仓库内的官方 Judge：`AIOpsChallengeJudge/evaluate.py`。
> - submission 来自 `cmp/CausalRCA/AIOpsChallenge_Adapt/` 适配层（含 reason hints、trace evidence 注入、component top-K 映射、pre=30 扩窗输入）。
> - 评测时设置 `TRANSFORMERS_OFFLINE=1`（避免下载语义模型导致不稳定）。

## 产物路径

- Phase 1 submission：`outputs/submissions/causalrca_phase1_pre30_full.jsonl`
- Phase 1 report：`outputs/reports/causalrca_phase1_pre30_full_report.json`

- Phase 2 submission：`outputs/submissions/causalrca_phase2_pre30_full.jsonl`
- Phase 2 report：`outputs/reports/causalrca_phase2_pre30_full_report.json`

- Phase 12（Phase1+Phase2 合并）submission：`outputs/submissions/causalrca_phase12_pre30_full.jsonl`
- Phase 12 report：`outputs/reports/causalrca_phase12_pre30_full_report.json`

## 全量评测结果（默认：缺失 uuid 按空预测计入）

| Split | LA(Component Accuracy) | TA(Reason Accuracy) | Explainability | Efficiency | Final |
|---|---:|---:|---:|---:|---:|
| Phase 1 | 5.21% | 100.00% | 28.74% | 100.00% | 54.96 |
| Phase 2 | 7.29% | 98.44% | 39.83% | 100.00% | 56.27 |
| Phase 12 | 6.20% | 99.26% | 34.45% | 100.00% | 55.63 |

### Phase 2 缺失 uuid（Judge 会按空预测补齐）

缺失 3 个 uuid：

- `4a65ba9a-597`
- `67399f06-596`
- `e52c3079-598`

## 不计入缺失 uuid 的评测结果（剔除 GT 里的 3 个 uuid）

> 做法：对 ground truth 做过滤后再评测同一份 submission。

- 过滤后的 Phase2 GT：`outputs/tmp/ground_truth_phase2_exclude_missing3.jsonl`
- 过滤后的 Phase12 GT：`outputs/tmp/ground_truth_phase12_exclude_missing3.jsonl`

- Phase 2（不计缺失3个）report：`outputs/reports/causalrca_phase2_pre30_full_report_nomissing3.json`
- Phase 12（不计缺失3个）report：`outputs/reports/causalrca_phase12_pre30_full_report_nomissing3.json`

| Split | LA(Component Accuracy) | TA(Reason Accuracy) | Explainability | Efficiency | Final |
|---|---:|---:|---:|---:|---:|
| Phase 2（不计缺失3个） | 7.41% | 100.00% | 40.63% | 100.00% | 57.03 |
| Phase 12（不计缺失3个） | 6.25% | 100.00% | 34.80% | 100.00% | 55.98 |
